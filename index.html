<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ูุธุงู ุญุถูุฑ ุงููุฑูุฒ</title>

  <link rel="stylesheet" href="style.css">

  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
</head>

<body>

  <div id="loginBox" class="card">
    <h1>ุฏุฎูู ููุญุฉ ุงูุณูุชุฑ</h1>
    <p class="muted">ุงูุฏุฎูู ูููุณุคูู ููุท</p>

    <label class="lbl">Username</label>
    <input id="user" class="inp" type="text" placeholder="ุงุณู ุงููุณุชุฎุฏู">

    <label class="lbl">Password</label>
    <div class="passWrap">
      <input id="pass" class="inp" type="password" placeholder="ูููุฉ ุงููุฑูุฑ">
      <button id="togglePass" class="eyeBtn" type="button" title="ุฅุธูุงุฑ/ุฅุฎูุงุก">๐๏ธ</button>
    </div>

    <button id="loginBtn" class="btn primary">ุฏุฎูู</button>
    <div id="loginMsg" class="msg"></div>
  </div>

  <div id="appBox" class="hidden">

    <div class="topbar">
      <div class="brand">ููุญุฉ ุงูุณูุชุฑ</div>

      <div class="topActions">
        <button id="exportExcelBtn" class="btn">ุชุตุฏูุฑ Excel</button>

        <label class="btn fileBtn" for="importExcelInput">ุงุณุชูุฑุงุฏ Excel</label>
        <input id="importExcelInput" type="file" accept=".xlsx,.xls" style="display:none;">

        <button id="logoutBtn" class="btn danger">ุฎุฑูุฌ</button>
      </div>
    </div>

    <div class="grid2">
      <div class="card">
        <h2>ุณุฑูุน</h2>
        <p class="muted">
          ูู ุจุชุณูุงู ุจุงูููุจุงููุ QR ูููุชุญ ุงููููุน ุนูู ุทูู ุจู id=25
          ููุณุฌู ุญุถูุฑ ุชููุงุฆู (ูู ุฅูุช ุฏุงุฎู).
        </p>

        <div class="row">
          <input id="quickAttendId" class="inp" inputmode="numeric" placeholder="ุงูุชุจ ID ููุง">
          <button id="quickAttendBtn" class="btn primary">ุณุฌู ุญุถูุฑ</button>
        </div>

        <div id="quickMsg" class="msg"></div>
      </div>

      <div class="card">
        <h2>ุจุญุซ ููุท</h2>
        <p class="muted">ููุชุญ ุจูุงูุงุช ุงูุทุงูุจ ุจุฏูู ุชุณุฌูู ุญุถูุฑ.</p>

        <div class="row">
          <input id="openId" class="inp" inputmode="numeric" placeholder="ุงูุชุจ ID ููุง">
          <button id="openBtn" class="btn">ูุชุญ</button>
        </div>

        <div class="row">
          <input id="searchAny" class="inp" placeholder="ุงุจุญุซ ุจุงูุงุณู ุฃู ุงูููุจุงูู ุฃู ID">
          <button id="searchAnyBtn" class="btn">ุจุญุซ</button>
        </div>

        <div id="searchMsg" class="msg"></div>
      </div>
    </div>

    <div class="card">
      <h2>+ ุฅุถุงูุฉ ุทุงูุจ ุฌุฏูุฏ (ID ุฌุฏูุฏ)</h2>
      <p class="muted">ุงุฎุชูุงุฑู: ุชูุฏุฑ ุชุถูู ID ุฌุฏูุฏ ุบูุฑ 1..500 ูู ุงุญุชุฌุช.</p>

      <div class="row">
        <input id="newId" class="inp" inputmode="numeric" placeholder="ุงูุชุจ ID ุฌุฏูุฏ (ูุซุงู 501)">
        <button id="addNewBtn" class="btn">ุฅุถุงูุฉ</button>
      </div>

      <div id="addMsg" class="msg"></div>
    </div>

    <div class="card">
      <h2>ุญุถูุฑ ุจุชุงุฑูุฎ</h2>
      <p class="muted">ุงูููู ุชููุงุฆู. ุชูุฏุฑ ุชุฎุชุงุฑ ุชุงุฑูุฎ ุชุงูู ูู ุญุจูุช.</p>

      <div class="row">
        <input id="reportDate" class="inp" type="date">
        <button id="reportBtn" class="btn">ุนุฑุถ</button>
      </div>

      <div class="badges">
        <span class="badge" id="reportDateLabel">ุงูุชุงุฑูุฎ: โ</span>
        <span class="badge" id="reportCount">ุนุฏุฏ ุงูุญุถูุฑ: 0</span>
      </div>

      <div id="reportList" class="list mutedCenter">โ ูุง ููุฌุฏ ุญุถูุฑ ูู ูุฐุง ุงูุชุงุฑูุฎ โ</div>
    </div>

    <div class="grid2">
      <div class="card">
        <h2>ุจูุงูุงุช ุงูุทุงูุจ</h2>

        <div class="studentHead">
          <div class="pill" id="studentIdPill">ID: โ</div>
          <div class="pill" id="todayStatus">ุญุถูุฑ ุงูููู: โ</div>
          <div class="pill" id="lastAttend">ุขุฎุฑ ุญุถูุฑ: โ</div>
          <div class="pill" id="daysCount">ุนุฏุฏ ุฃูุงู ุงูุญุถูุฑ: โ</div>
        </div>

        <label class="lbl">ุงูุงุณู</label>
        <input id="stName" class="inp" placeholder="ุงุณู ุงูุทุงูุจ">

        <label class="lbl">ุงูุตู</label>
        <input id="stClass" class="inp" placeholder="ูุซุงู: ุชูุฑูุถ / ุงูุตู ุงูุฃูู ...">

        <label class="lbl">ุฑูู ุงูููุจุงูู</label>
        <input id="stPhone" class="inp" inputmode="tel" placeholder="01xxxxxxxxx">

        <label class="lbl">ุงููุฏููุน</label>
        <input id="stPaid" class="inp" inputmode="numeric" placeholder="ูุซุงู: 1500">

        <div class="row wrap">
          <button id="saveStudentBtn" class="btn primary">ุญูุธ ุงูุจูุงูุงุช</button>

          <button id="markTodayBtn" class="btn success">โ ุชุณุฌูู ุญุถูุฑ ุงูููู</button>
          <button id="unmarkTodayBtn" class="btn warning">โ ุฅูุบุงุก ุญุถูุฑ ุงูููู</button>
        </div>

        <div id="studentMsg" class="msg"></div>
      </div>

      <div class="card">
        <h2>ุณุฌู ุงูุญุถูุฑ (ุขุฎุฑ 25 ุชุงุฑูุฎ)</h2>
        <div id="attList" class="list mutedCenter">โ ุงูุชุญ ุทุงูุจ ุนูุดุงู ูุธูุฑ ููุง โ</div>
      </div>
    </div>

    <div class="card">
      <h2>ุฅุฏุงุฑุฉ ุงูุจูุงูุงุช</h2>
      <p class="muted">ุชุญุฐูุฑ: ุงููุณุญ ุงูููุงุฆู ููุณุญ ูู ุงูุฏุงุชุง ุนูู ูุฐุง ุงูุฌูุงุฒ ููุท.</p>

      <div class="row">
        <input id="resetPass" class="inp" type="password" placeholder="ุงูุชุจ ูููุฉ ุงููุฑูุฑ ููุชุฃููุฏ">
        <button id="resetBtn" class="btn danger">ุฅุนุงุฏุฉ ุถุจุท (ูุณุญ ูู ุงูุจูุงูุงุช)</button>
      </div>

      <div id="resetMsg" class="msg"></div>
    </div>

  </div>

  <script src="app.js?v=2"></script>
</body>
</html>
